import{r as g,t as We,a as Be,u as xe,j as l,g as qe,R as He,P as Qe,A as Ye,c as Xe}from"./styles.js";const Ze=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Je=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,r)=>r?r.toUpperCase():o.toLowerCase()),ye=e=>{const t=Je(e);return t.charAt(0).toUpperCase()+t.slice(1)},Pe=(...e)=>e.filter((t,o,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===o).join(" ").trim(),Ke=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var et={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tt=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:r,className:a="",children:c,iconNode:d,...h},m)=>g.createElement("svg",{ref:m,...et,width:t,height:t,stroke:e,strokeWidth:r?Number(o)*24/Number(t):o,className:Pe("lucide",a),...!c&&!Ke(h)&&{"aria-hidden":"true"},...h},[...d.map(([b,x])=>g.createElement(b,x)),...Array.isArray(c)?c:[c]]));const te=(e,t)=>{const o=g.forwardRef(({className:r,...a},c)=>g.createElement(tt,{ref:c,iconNode:t,className:Pe(`lucide-${Ze(ye(e))}`,`lucide-${e}`,r),...a}));return o.displayName=ye(e),o};const rt=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],we=te("camera",rt);const ot=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],at=te("shield",ot);const st=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nt=te("sparkles",st);const it=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],lt=te("sword",it);const ct=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],dt=te("wand-sparkles",ct);function mt({name:e,adventureType:t,location:o}){return console.log({name:e,adventureType:t,location:o}),`
You are the CityQuest Game Master, a playful, curious, and insightful guide who leads players on real-world adventures through their city â€” like a Dungeon Master in Dungeons & Dragons, but grounded in the real world.

Your core goals:

Guide ${e}, the player, through a city-based quest, one step at a time. They have chosen to embark on an ${t} adventure which ${t==="tour"?"Should take the player through main tourist attractions and landmarks of the city. suggest 3 to 5 locations for the player to visit. should be a mix of historical, cultural, and natural landmarks.":t==="foodie"?"Should take the player through the best food and drink spots in the city. suggest 3 to 5 locations for the player to visit. should be a mix of restaurants, cafes, bars, and other food and drink establishments. Ask the player where they want to go next and offer a couple of options to choose from and adjust the adventure based on their choice.":"Should take the player through a race to visit the most iconic landmarks of the city within a given time limit. Ask the player where they want to go next and offer a couple of options to choose from and adjust the adventure based on their choice."}. They are currently at ${o}.

Ask the player where they want to go next and offer a couple of options to choose from and adjust the adventure based on their choice.

Upon arrival, challenge them with a question that tests observation, curiosity, or local knowledge.

If they answer correctly, reward them using the update-score tool.

At any point, optionally offer fun facts or local history â€” like a quirky, knowledgeable tour guide.

Gameplay loop:

Offer a single prompt at a time â€” a destination or activity with a playful or mysterious tone.

Wait for confirmation that the player has arrived.

Pose a question that requires them to look, ask, or think.

Score the result, celebrate wins, and move the story forward.

Add twists, surprises, and narrative flavor if appropriate (e.g. â€œYou've found the old fountain said to grant wishesâ€¦â€).

Tone:

Friendly, imaginative, and responsive.

Blend storytelling with real-world relevance.

Encourage exploration, creativity, and delight.

Always stay in character as the CityQuest Game Master.
`}function ut(){window.parent.postMessage({type:"ui-lifecycle-iframe-ready"},"*")}function pt(e,t,o={}){const{schema:r}=o,a=crypto.randomUUID();return new Promise((c,d)=>{if(!window.parent||window.parent===window){console.log("[MCP] No parent frame available. Would have sent message:",{type:e,messageId:a,payload:t}),d(new Error("No parent frame available"));return}window.parent.postMessage({type:e,messageId:a,payload:t},"*");function h(m){if(m.data.type!=="ui-message-response"||m.data.messageId!==a)return;window.removeEventListener("message",h);const{response:b,error:x}=m.data.payload;if(x)return d(x);if(!r)return c(b);const k=r.safeParse(b);return k.success?c(k.data):d(k.error)}window.addEventListener("message",h)})}function Ee(e){var t,o,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(o=Ee(e[t]))&&(r&&(r+=" "),r+=o)}else for(o in e)e[o]&&(r&&(r+=" "),r+=o);return r}function ft(){for(var e,t,o=0,r="",a=arguments.length;o<a;o++)(e=arguments[o])&&(t=Ee(e))&&(r&&(r+=" "),r+=t);return r}const he="-",ht=e=>{const t=bt(e),{conflictingClassGroups:o,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:d=>{const h=d.split(he);return h[0]===""&&h.length!==1&&h.shift(),Re(h,t)||gt(d)},getConflictingClassGroupIds:(d,h)=>{const m=o[d]||[];return h&&r[d]?[...m,...r[d]]:m}}},Re=(e,t)=>{if(e.length===0)return t.classGroupId;const o=e[0],r=t.nextPart.get(o),a=r?Re(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const c=e.join(he);return t.validators.find(({validator:d})=>d(c))?.classGroupId},ve=/^\[(.+)\]$/,gt=e=>{if(ve.test(e)){const t=ve.exec(e)[1],o=t?.substring(0,t.indexOf(":"));if(o)return"arbitrary.."+o}},bt=e=>{const{theme:t,classGroups:o}=e,r={nextPart:new Map,validators:[]};for(const a in o)ue(o[a],r,a,t);return r},ue=(e,t,o,r)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?t:ke(t,a);c.classGroupId=o;return}if(typeof a=="function"){if(xt(a)){ue(a(r),t,o,r);return}t.validators.push({validator:a,classGroupId:o});return}Object.entries(a).forEach(([c,d])=>{ue(d,ke(t,c),o,r)})})},ke=(e,t)=>{let o=e;return t.split(he).forEach(r=>{o.nextPart.has(r)||o.nextPart.set(r,{nextPart:new Map,validators:[]}),o=o.nextPart.get(r)}),o},xt=e=>e.isThemeGetter,yt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,o=new Map,r=new Map;const a=(c,d)=>{o.set(c,d),t++,t>e&&(t=0,r=o,o=new Map)};return{get(c){let d=o.get(c);if(d!==void 0)return d;if((d=r.get(c))!==void 0)return a(c,d),d},set(c,d){o.has(c)?o.set(c,d):a(c,d)}}},pe="!",fe=":",wt=fe.length,vt=e=>{const{prefix:t,experimentalParseClassName:o}=e;let r=a=>{const c=[];let d=0,h=0,m=0,b;for(let v=0;v<a.length;v++){let C=a[v];if(d===0&&h===0){if(C===fe){c.push(a.slice(m,v)),m=v+wt;continue}if(C==="/"){b=v;continue}}C==="["?d++:C==="]"?d--:C==="("?h++:C===")"&&h--}const x=c.length===0?a:a.substring(m),k=kt(x),H=k!==x,D=b&&b>m?b-m:void 0;return{modifiers:c,hasImportantModifier:H,baseClassName:k,maybePostfixModifierPosition:D}};if(t){const a=t+fe,c=r;r=d=>d.startsWith(a)?c(d.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(o){const a=r;r=c=>o({className:c,parseClassName:a})}return r},kt=e=>e.endsWith(pe)?e.substring(0,e.length-1):e.startsWith(pe)?e.substring(1):e,Ct=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let c=[];return r.forEach(d=>{d[0]==="["||t[d]?(a.push(...c.sort(),d),c=[]):c.push(d)}),a.push(...c.sort()),a}},jt=e=>({cache:yt(e.cacheSize),parseClassName:vt(e),sortModifiers:Ct(e),...ht(e)}),Nt=/\s+/,St=(e,t)=>{const{parseClassName:o,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:c}=t,d=[],h=e.trim().split(Nt);let m="";for(let b=h.length-1;b>=0;b-=1){const x=h[b],{isExternal:k,modifiers:H,hasImportantModifier:D,baseClassName:v,maybePostfixModifierPosition:C}=o(x);if(k){m=x+(m.length>0?" "+m:m);continue}let E=!!C,j=r(E?v.substring(0,C):v);if(!j){if(!E){m=x+(m.length>0?" "+m:m);continue}if(j=r(v),!j){m=x+(m.length>0?" "+m:m);continue}E=!1}const O=c(H).join(":"),_=D?O+pe:O,T=_+j;if(d.includes(T))continue;d.push(T);const R=a(j,E);for(let P=0;P<R.length;++P){const $=R[P];d.push(_+$)}m=x+(m.length>0?" "+m:m)}return m};function Mt(){let e=0,t,o,r="";for(;e<arguments.length;)(t=arguments[e++])&&(o=Ge(t))&&(r&&(r+=" "),r+=o);return r}const Ge=e=>{if(typeof e=="string")return e;let t,o="";for(let r=0;r<e.length;r++)e[r]&&(t=Ge(e[r]))&&(o&&(o+=" "),o+=t);return o};function At(e,...t){let o,r,a,c=d;function d(m){const b=t.reduce((x,k)=>k(x),e());return o=jt(b),r=o.cache.get,a=o.cache.set,c=h,h(m)}function h(m){const b=r(m);if(b)return b;const x=St(m,o);return a(m,x),x}return function(){return c(Mt.apply(null,arguments))}}const y=e=>{const t=o=>o[e]||[];return t.isThemeGetter=!0,t},De=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_e=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zt=/^\d+\/\d+$/,It=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Et=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Rt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Q=e=>zt.test(e),f=e=>!!e&&!Number.isNaN(Number(e)),F=e=>!!e&&Number.isInteger(Number(e)),ce=e=>e.endsWith("%")&&f(e.slice(0,-1)),G=e=>It.test(e),Dt=()=>!0,_t=e=>Pt.test(e)&&!Et.test(e),Te=()=>!1,Tt=e=>Rt.test(e),$t=e=>Gt.test(e),Lt=e=>!s(e)&&!n(e),Ft=e=>Y(e,Fe,Te),s=e=>De.test(e),q=e=>Y(e,Oe,_t),de=e=>Y(e,Bt,f),Ce=e=>Y(e,$e,Te),Ot=e=>Y(e,Le,$t),ne=e=>Y(e,Ve,Tt),n=e=>_e.test(e),ee=e=>X(e,Oe),Vt=e=>X(e,qt),je=e=>X(e,$e),Ut=e=>X(e,Fe),Wt=e=>X(e,Le),ie=e=>X(e,Ve,!0),Y=(e,t,o)=>{const r=De.exec(e);return r?r[1]?t(r[1]):o(r[2]):!1},X=(e,t,o=!1)=>{const r=_e.exec(e);return r?r[1]?t(r[1]):o:!1},$e=e=>e==="position"||e==="percentage",Le=e=>e==="image"||e==="url",Fe=e=>e==="length"||e==="size"||e==="bg-size",Oe=e=>e==="length",Bt=e=>e==="number",qt=e=>e==="family-name",Ve=e=>e==="shadow",Ht=()=>{const e=y("color"),t=y("font"),o=y("text"),r=y("font-weight"),a=y("tracking"),c=y("leading"),d=y("breakpoint"),h=y("container"),m=y("spacing"),b=y("radius"),x=y("shadow"),k=y("inset-shadow"),H=y("text-shadow"),D=y("drop-shadow"),v=y("blur"),C=y("perspective"),E=y("aspect"),j=y("ease"),O=y("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...T(),n,s],P=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],u=()=>[n,s,m],M=()=>[Q,"full","auto",...u()],A=()=>[F,"none","subgrid",n,s],Z=()=>["auto",{span:["full",F,n,s]},F,n,s],z=()=>[F,"auto",n,s],V=()=>["auto","min","max","fr",n,s],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...u()],p=()=>[Q,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...u()],i=()=>[e,n,s],W=()=>[...T(),je,Ce,{position:[n,s]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",Ut,Ft,{size:[n,s]}],K=()=>[ce,ee,q],N=()=>["","none","full",b,n,s],S=()=>["",f,ee,q],re=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],w=()=>[f,ce,je,Ce],be=()=>["","none",v,n,s],oe=()=>["none",f,n,s],ae=()=>["none",f,n,s],le=()=>[f,n,s],se=()=>[Q,"full",...u()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[G],breakpoint:[G],color:[Dt],container:[G],"drop-shadow":[G],ease:["in","out","in-out"],font:[Lt],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[G],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[G],shadow:[G],spacing:["px",f],text:[G],"text-shadow":[G],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Q,s,n,E]}],container:["container"],columns:[{columns:[f,s,n,h]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[F,"auto",n,s]}],basis:[{basis:[Q,"full","auto",h,...u()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[f,Q,"auto","initial","none",s]}],grow:[{grow:["",f,n,s]}],shrink:[{shrink:["",f,n,s]}],order:[{order:[F,"first","last","none",n,s]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:u()}],"gap-x":[{"gap-x":u()}],"gap-y":[{"gap-y":u()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:u()}],px:[{px:u()}],py:[{py:u()}],ps:[{ps:u()}],pe:[{pe:u()}],pt:[{pt:u()}],pr:[{pr:u()}],pb:[{pb:u()}],pl:[{pl:u()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":u()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":u()}],"space-y-reverse":["space-y-reverse"],size:[{size:p()}],w:[{w:[h,"screen",...p()]}],"min-w":[{"min-w":[h,"screen","none",...p()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[d]},...p()]}],h:[{h:["screen","lh",...p()]}],"min-h":[{"min-h":["screen","lh","none",...p()]}],"max-h":[{"max-h":["screen","lh",...p()]}],"font-size":[{text:["base",o,ee,q]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,n,de]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ce,s]}],"font-family":[{font:[Vt,s,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,n,s]}],"line-clamp":[{"line-clamp":[f,"none",n,de]}],leading:[{leading:[c,...u()]}],"list-image":[{"list-image":["none",n,s]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",n,s]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:i()}],"text-color":[{text:i()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[f,"from-font","auto",n,q]}],"text-decoration-color":[{decoration:i()}],"underline-offset":[{"underline-offset":[f,"auto",n,s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:u()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",n,s]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",n,s]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},F,n,s],radial:["",n,s],conic:[F,n,s]},Wt,Ot]}],"bg-color":[{bg:i()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:i()}],"gradient-via":[{via:i()}],"gradient-to":[{to:i()}],rounded:[{rounded:N()}],"rounded-s":[{"rounded-s":N()}],"rounded-e":[{"rounded-e":N()}],"rounded-t":[{"rounded-t":N()}],"rounded-r":[{"rounded-r":N()}],"rounded-b":[{"rounded-b":N()}],"rounded-l":[{"rounded-l":N()}],"rounded-ss":[{"rounded-ss":N()}],"rounded-se":[{"rounded-se":N()}],"rounded-ee":[{"rounded-ee":N()}],"rounded-es":[{"rounded-es":N()}],"rounded-tl":[{"rounded-tl":N()}],"rounded-tr":[{"rounded-tr":N()}],"rounded-br":[{"rounded-br":N()}],"rounded-bl":[{"rounded-bl":N()}],"border-w":[{border:S()}],"border-w-x":[{"border-x":S()}],"border-w-y":[{"border-y":S()}],"border-w-s":[{"border-s":S()}],"border-w-e":[{"border-e":S()}],"border-w-t":[{"border-t":S()}],"border-w-r":[{"border-r":S()}],"border-w-b":[{"border-b":S()}],"border-w-l":[{"border-l":S()}],"divide-x":[{"divide-x":S()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":S()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:i()}],"border-color-x":[{"border-x":i()}],"border-color-y":[{"border-y":i()}],"border-color-s":[{"border-s":i()}],"border-color-e":[{"border-e":i()}],"border-color-t":[{"border-t":i()}],"border-color-r":[{"border-r":i()}],"border-color-b":[{"border-b":i()}],"border-color-l":[{"border-l":i()}],"divide-color":[{divide:i()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[f,n,s]}],"outline-w":[{outline:["",f,ee,q]}],"outline-color":[{outline:i()}],shadow:[{shadow:["","none",x,ie,ne]}],"shadow-color":[{shadow:i()}],"inset-shadow":[{"inset-shadow":["none",k,ie,ne]}],"inset-shadow-color":[{"inset-shadow":i()}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:i()}],"ring-offset-w":[{"ring-offset":[f,q]}],"ring-offset-color":[{"ring-offset":i()}],"inset-ring-w":[{"inset-ring":S()}],"inset-ring-color":[{"inset-ring":i()}],"text-shadow":[{"text-shadow":["none",H,ie,ne]}],"text-shadow-color":[{"text-shadow":i()}],opacity:[{opacity:[f,n,s]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[f]}],"mask-image-linear-from-pos":[{"mask-linear-from":w()}],"mask-image-linear-to-pos":[{"mask-linear-to":w()}],"mask-image-linear-from-color":[{"mask-linear-from":i()}],"mask-image-linear-to-color":[{"mask-linear-to":i()}],"mask-image-t-from-pos":[{"mask-t-from":w()}],"mask-image-t-to-pos":[{"mask-t-to":w()}],"mask-image-t-from-color":[{"mask-t-from":i()}],"mask-image-t-to-color":[{"mask-t-to":i()}],"mask-image-r-from-pos":[{"mask-r-from":w()}],"mask-image-r-to-pos":[{"mask-r-to":w()}],"mask-image-r-from-color":[{"mask-r-from":i()}],"mask-image-r-to-color":[{"mask-r-to":i()}],"mask-image-b-from-pos":[{"mask-b-from":w()}],"mask-image-b-to-pos":[{"mask-b-to":w()}],"mask-image-b-from-color":[{"mask-b-from":i()}],"mask-image-b-to-color":[{"mask-b-to":i()}],"mask-image-l-from-pos":[{"mask-l-from":w()}],"mask-image-l-to-pos":[{"mask-l-to":w()}],"mask-image-l-from-color":[{"mask-l-from":i()}],"mask-image-l-to-color":[{"mask-l-to":i()}],"mask-image-x-from-pos":[{"mask-x-from":w()}],"mask-image-x-to-pos":[{"mask-x-to":w()}],"mask-image-x-from-color":[{"mask-x-from":i()}],"mask-image-x-to-color":[{"mask-x-to":i()}],"mask-image-y-from-pos":[{"mask-y-from":w()}],"mask-image-y-to-pos":[{"mask-y-to":w()}],"mask-image-y-from-color":[{"mask-y-from":i()}],"mask-image-y-to-color":[{"mask-y-to":i()}],"mask-image-radial":[{"mask-radial":[n,s]}],"mask-image-radial-from-pos":[{"mask-radial-from":w()}],"mask-image-radial-to-pos":[{"mask-radial-to":w()}],"mask-image-radial-from-color":[{"mask-radial-from":i()}],"mask-image-radial-to-color":[{"mask-radial-to":i()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[f]}],"mask-image-conic-from-pos":[{"mask-conic-from":w()}],"mask-image-conic-to-pos":[{"mask-conic-to":w()}],"mask-image-conic-from-color":[{"mask-conic-from":i()}],"mask-image-conic-to-color":[{"mask-conic-to":i()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",n,s]}],filter:[{filter:["","none",n,s]}],blur:[{blur:be()}],brightness:[{brightness:[f,n,s]}],contrast:[{contrast:[f,n,s]}],"drop-shadow":[{"drop-shadow":["","none",D,ie,ne]}],"drop-shadow-color":[{"drop-shadow":i()}],grayscale:[{grayscale:["",f,n,s]}],"hue-rotate":[{"hue-rotate":[f,n,s]}],invert:[{invert:["",f,n,s]}],saturate:[{saturate:[f,n,s]}],sepia:[{sepia:["",f,n,s]}],"backdrop-filter":[{"backdrop-filter":["","none",n,s]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[f,n,s]}],"backdrop-contrast":[{"backdrop-contrast":[f,n,s]}],"backdrop-grayscale":[{"backdrop-grayscale":["",f,n,s]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f,n,s]}],"backdrop-invert":[{"backdrop-invert":["",f,n,s]}],"backdrop-opacity":[{"backdrop-opacity":[f,n,s]}],"backdrop-saturate":[{"backdrop-saturate":[f,n,s]}],"backdrop-sepia":[{"backdrop-sepia":["",f,n,s]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":u()}],"border-spacing-x":[{"border-spacing-x":u()}],"border-spacing-y":[{"border-spacing-y":u()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",n,s]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[f,"initial",n,s]}],ease:[{ease:["linear","initial",j,n,s]}],delay:[{delay:[f,n,s]}],animate:[{animate:["none",O,n,s]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,n,s]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[n,s,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:i()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:i()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",n,s]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":u()}],"scroll-mx":[{"scroll-mx":u()}],"scroll-my":[{"scroll-my":u()}],"scroll-ms":[{"scroll-ms":u()}],"scroll-me":[{"scroll-me":u()}],"scroll-mt":[{"scroll-mt":u()}],"scroll-mr":[{"scroll-mr":u()}],"scroll-mb":[{"scroll-mb":u()}],"scroll-ml":[{"scroll-ml":u()}],"scroll-p":[{"scroll-p":u()}],"scroll-px":[{"scroll-px":u()}],"scroll-py":[{"scroll-py":u()}],"scroll-ps":[{"scroll-ps":u()}],"scroll-pe":[{"scroll-pe":u()}],"scroll-pt":[{"scroll-pt":u()}],"scroll-pr":[{"scroll-pr":u()}],"scroll-pb":[{"scroll-pb":u()}],"scroll-pl":[{"scroll-pl":u()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",n,s]}],fill:[{fill:["none",...i()]}],"stroke-w":[{stroke:[f,ee,q,de]}],stroke:[{stroke:["none",...i()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Qt=At(Ht);function Ne(...e){return Qt(ft(e))}function Ue(e,t){const o={get(r,a){if(typeof a=="string"){const c=[...t,a];return Ue(e,c)}else if(a===We){if(t.length<1){const c=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${c}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},o)}const Yt=()=>Ue("components",[]),Se=Be;Yt();const Me=[{id:"tour",title:"Skyline Tour",accent:"from-purple-600/40 to-amber-600/20 text-purple-950",emoji:"ðŸ§­"},{id:"foodie",title:"Mythic Foodie",accent:"from-amber-500/50 to-yellow-600/30 text-amber-950",emoji:"ðŸ"},{id:"race",title:"Skyway Race",accent:"from-stone-600/40 to-amber-700/30 text-stone-950",emoji:"ðŸ"}],Xt=2*1024*1024,Ae=["Explorer","Pathfinder","Chronicle","Navigator"],ze=["Lumen","Starling","Wander","Morrow","Solstice"],Zt=()=>{const e=Ae[Math.floor(Math.random()*Ae.length)],t=ze[Math.floor(Math.random()*ze.length)];return`${e} ${t}`};let me=null;const Jt=async()=>(me||(me=(async()=>{const e=await fetch("https://city-quest.netlify.app/cityquest-gamecard.png");if(!e.ok)throw new Error("Failed to fetch game card image");const t=await e.blob();return new File([t],"cityquest-gamecard.png",{type:t.type})})()),me);function Kt(){const[e,t]=g.useState(0);return g.useEffect(()=>{const o=setInterval(()=>{t(r=>r>=95?r:r+Math.random()*10)},300);return()=>clearInterval(o)},[]),l.jsxs("div",{className:"relative flex min-h-[220px] w-full flex-col items-center justify-center overflow-hidden rounded-2xl border-2 border-amber-600/40 bg-gradient-to-br from-amber-950/60 via-stone-900/80 to-amber-950/60 p-8 shadow-2xl",children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-20 -left-20 h-40 w-40 rounded-full bg-amber-500/20 blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute -bottom-20 -right-20 h-40 w-40 rounded-full bg-yellow-500/20 blur-3xl animate-pulse",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute top-1/2 left-1/2 h-32 w-32 -translate-x-1/2 -translate-y-1/2 rounded-full bg-purple-500/10 blur-2xl animate-pulse",style:{animationDelay:"0.5s"}})]}),l.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-6 mb-6",children:[l.jsx(at,{className:"h-8 w-8 text-amber-400 animate-bounce",style:{animationDelay:"0s",animationDuration:"2s"}}),l.jsx(dt,{className:"h-10 w-10 text-yellow-400 animate-spin",style:{animationDuration:"3s"}}),l.jsx(lt,{className:"h-8 w-8 text-amber-400 animate-bounce",style:{animationDelay:"1s",animationDuration:"2s"}})]}),l.jsxs("div",{className:"relative z-10 text-center space-y-2 mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-200 drop-shadow-lg",children:"Forging Your Character Card"}),l.jsx("p",{className:"text-sm text-amber-300/80",children:"The guild artisans are crafting your legend..."})]}),l.jsxs("div",{className:"relative z-10 w-full max-w-xs",children:[l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-amber-900/50 border border-amber-700/30",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-amber-500 via-yellow-500 to-amber-500 transition-all duration-300 ease-out shadow-lg shadow-amber-500/50",style:{width:`${Math.min(e,95)}%`}})}),l.jsx("div",{className:"mt-2 text-center",children:l.jsxs("span",{className:"text-xs font-semibold text-amber-300",children:[Math.round(Math.min(e,95)),"%"]})})]}),l.jsx("div",{className:"pointer-events-none absolute inset-0",children:Array.from({length:6}).map((o,r)=>l.jsx("div",{className:"absolute h-1 w-1 rounded-full bg-amber-400 animate-ping",style:{left:`${20+r*15}%`,top:`${30+r%3*20}%`,animationDelay:`${r*.3}s`,animationDuration:"2s"}},r))})]})}function er(){const[e,t]=g.useState(()=>Zt()),[o,r]=g.useState(!1),[a,c]=g.useState("tour"),[d,h]=g.useState(null),[m,b]=g.useState(null),[x,k]=g.useState(!1),[H,D]=g.useState(null),[v,C]=g.useState("idle"),[E,j]=g.useState(""),[O,_]=g.useState(null),[T,R]=g.useState(!1),P=g.useRef(null),$=g.useId(),u=xe(Se.games.createGame),M=xe(Se.games.sendPrompt),A=e.trim()||"Explorer";g.useEffect(()=>{ut()},[]);const Z=Me.find(p=>p.id===a);g.useMemo(()=>({title:`Welcome, ${A}!`,subtitle:`${Z?.title??"CityQuest Path"} awaits.`,signature:"CityQuest Dispatch",accentColor:"#0f172a",mood:"celebrate",inlineStyles:!0}),[Z?.title,A]);const z=g.useCallback(()=>{D(null),C("idle"),j("")},[]),V=g.useCallback(async p=>{R(!0),j("");try{const i=await Jt(),W=new FormData;W.append("image1",p),W.append("image2",i),W.append("prompt",`Take the person from the first uploaded image and place them into the headshot area of the character card in the second image. Make sure the portrait fits naturally within the empty frame or designated area of the card design.

Preserve the fantasy/Dungeons & Dragonsâ€“style aesthetic of the card.

At the bottom of the card, add the text:

Player: ${A}

Match the card's existing typography and color style.`);const J=await fetch("https://imageplustexttoimage.mcp-ui-flows-nanobanana.workers.dev/api/combine-images",{method:"POST",body:W});if(!J.ok)throw new Error("Failed to combine images");const B=await J.json();if(B.success&&B.imageData){const K=`data:${B.mimeType??"image/png"};base64,${B.imageData}`;_(K)}else throw new Error("Image combination failed")}catch(i){console.error("Error combining images:",i),j(i instanceof Error?i.message:"Failed to create character card. Please try again.")}finally{R(!1)}},[A]);g.useEffect(()=>{m&&o&&V(m)},[A,m,o,V]);const U=g.useCallback(async p=>{if(!p)return;if(!p.type.startsWith("image/")){j("Choose an image to represent your adventurer.");return}if(p.size>Xt){j("Please choose an image smaller than 2 MB.");return}j(""),b(p);const i=new FileReader;i.onload=()=>{typeof i.result=="string"&&(h(i.result),z(),V(p))},i.readAsDataURL(p)},[z,V]),L=g.useCallback(p=>{p.preventDefault(),k(!1);const i=p.dataTransfer.files?.[0];U(i)},[U]),I=g.useCallback(async()=>{if(v!=="saving"){C("saving"),j(""),D(null);try{console.log({displayName:A,selectedAdventure:a});const p=mt({name:A,adventureType:a,location:"London"});console.log({prompt:p}),pt("prompt",{prompt:p}),C("success")}catch(p){console.error(p),j(p instanceof Error?p.message:"Unable to start your CityQuest. Please try again."),C("error")}}},[d,u,A,a,M,v]);return l.jsx("div",{className:"min-h-[calc(100vh-5rem)] bg-gradient-to-b from-purple-950 via-amber-950 to-stone-950 py-12 text-white",children:l.jsx("div",{className:"mx-auto flex w-full max-w-4xl justify-center px-6",children:l.jsxs("section",{className:"w-full max-w-2xl space-y-6 rounded-3xl border border-amber-800/20 bg-amber-950/20 p-8 shadow-2xl backdrop-blur",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-amber-700/30 bg-gradient-to-br from-amber-600/30 via-yellow-700/20 to-stone-800/90 p-8 shadow-inner",children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[l.jsx("div",{className:"absolute -top-10 -right-6 h-40 w-40 rounded-full bg-amber-400/40 blur-3xl"}),l.jsx("div",{className:"absolute top-12 -left-10 h-32 w-32 rounded-full bg-yellow-500/30 blur-2xl animate-pulse"}),l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,215,0,0.2),_transparent_55%)]"})]}),l.jsx("div",{className:"relative z-10 space-y-4 text-center",children:l.jsx("h1",{className:"text-6xl font-black uppercase tracking-[0.25em] text-white drop-shadow-[0_8px_30px_rgba(217,119,6,0.55)]",children:"CityQuest"})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium text-amber-100",htmlFor:$,children:"What should the guild call you?"}),l.jsx("input",{id:$,className:"w-full rounded-2xl border border-amber-700/30 bg-amber-950/20 px-4 py-3 text-base text-white placeholder:text-amber-200/60 focus:border-amber-400 focus:outline-none",value:e,onFocus:()=>{o||(t(""),r(!0),z())},onChange:p=>{t(p.target.value),r(!0),z()}})]}),l.jsx("div",{className:"space-y-3",children:l.jsx("div",{className:"mx-auto max-w-md",children:O?l.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-amber-600/40 bg-amber-950/30 p-2 shadow-2xl",children:[l.jsx("img",{src:O,alt:"Character card",className:"mx-auto w-full max-w-full rounded-xl object-contain shadow-lg"}),l.jsx("button",{type:"button",onClick:()=>{_(null),h(null),b(null),z()},className:"absolute top-3 right-3 rounded-full bg-amber-900/80 p-2 text-amber-200 hover:bg-amber-800/90 transition",title:"Upload a different image",children:l.jsx(we,{className:"h-4 w-4"})})]}):T?l.jsx(Kt,{}):l.jsxs("button",{type:"button",onDragOver:p=>{p.preventDefault(),k(!0)},onDragLeave:()=>k(!1),onDrop:L,onClick:()=>P.current?.click(),className:Ne("flex min-h-[180px] w-full cursor-pointer flex-col items-center justify-center gap-3 rounded-3xl border-2 border-dashed border-amber-700/40 bg-amber-950/30 p-6 text-center transition",x&&"border-amber-400/80 bg-amber-300/20"),children:[l.jsx("div",{className:"rounded-full bg-amber-800/30 p-3 text-amber-100",children:l.jsx(we,{className:"h-6 w-6"})}),l.jsx("p",{className:"text-sm text-amber-100",children:"Drag & drop or tap to upload"}),l.jsx("p",{className:"text-xs text-amber-200/80",children:"Supports live camera capture on mobile"}),l.jsx("input",{ref:P,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:p=>{U(p.target.files?.[0]),p.target.value=""}})]})})}),l.jsx("div",{className:"space-y-3",children:l.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:Me.map(p=>{const i=p.id===a;return l.jsxs("button",{type:"button",onClick:()=>{c(p.id),z()},className:Ne("group relative overflow-hidden rounded-3xl border-2 px-5 py-6 text-left transition hover:-translate-y-1 hover:border-amber-400",i?"border-amber-400 bg-amber-900/30 shadow-xl shadow-amber-600/40":"border-amber-800/20 bg-amber-950/20"),children:[l.jsx("div",{className:`absolute inset-0 opacity-70 blur-xl transition group-hover:opacity-90 ${p.accent}`,children:"Â "}),l.jsxs("div",{className:"relative z-10 flex flex-col gap-3",children:[l.jsx("span",{className:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-amber-800/40 text-2xl",children:p.emoji}),l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-semibold text-white",children:p.title}),l.jsx("p",{className:"text-xs text-amber-100/80",children:i?"Selected":"Tap to begin"})]})]})]},p.id)})})}),E&&l.jsx("p",{className:"rounded-2xl border border-red-700/60 bg-red-900/20 px-4 py-3 text-sm text-red-200",children:E}),l.jsxs("button",{type:"button",onClick:()=>void I(),disabled:v==="saving",className:"group flex w-full items-center justify-center gap-2 rounded-2xl bg-gradient-to-r from-amber-500 to-yellow-600 px-6 py-4 text-lg font-bold text-amber-950 shadow-lg shadow-amber-900/50 transition hover:from-amber-400 hover:to-yellow-500 disabled:cursor-not-allowed disabled:opacity-60",children:[l.jsx(nt,{className:"h-5 w-5"}),v==="saving"?"Gathering Guild Scrolls...":"Start Game"]})]})})})}const Ie="tanstack-app-root";function tr(){const e=document.getElementById(Ie);if(!e)throw new Error(`Container #${Ie} not found`);let t=e._reactRoot;return t||(t=Xe.createRoot(e),e._reactRoot=t),t}function rr(){const e=qe();tr().render(l.jsx(He.StrictMode,{children:l.jsx(Qe,{...e,children:l.jsx(Ye,{children:l.jsx(er,{})})})}))}rr();

import{r as s,j as e,g as f,R as g,P as y,A as v,c as N}from"./styles.js";const p={title:"CityQuest Status Briefing",summary:"Your mission summary will appear here once the guild compiles footage.",videoUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",embedUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",highlights:["Scouting team preparing assets"],callToAction:"Launch video",ctaUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",duration:"--:--"};function x(){return typeof window<"u"&&window.__MCP_UI_INITIAL_RENDER_DATA__&&window.__MCP_UI_INITIAL_RENDER_DATA__.toolOutput?window.__MCP_UI_INITIAL_RENDER_DATA__.toolOutput:typeof window<"u"&&window.__MCP_UI_INITIAL_RENDER_DATA__?window.__MCP_UI_INITIAL_RENDER_DATA__:typeof window<"u"&&window.openai&&window.openai.toolOutput?window.openai.toolOutput:typeof window<"u"&&window.__MCP_WIDGET_LAST_VIDEO_OUTPUT__?window.__MCP_WIDGET_LAST_VIDEO_OUTPUT__:null}function I(){const[t,a]=s.useState(()=>{const r=x();return{...p,...r}}),[l,n]=s.useState("none");s.useEffect(()=>{let r="";const o=()=>{const b=x(),i={...p,...b},u=JSON.stringify(i);u!==r&&(r=u,a(i),typeof window<"u"&&(window.__MCP_WIDGET_LAST_VIDEO_OUTPUT__=i),i.embedUrl?n("iframe"):i.videoUrl?n("video"):n("none"))};o();const _=setInterval(o,700),m=()=>o();return window.addEventListener("message",m),()=>{clearInterval(_),window.removeEventListener("message",m)}},[]);const d=t.summary?.split(`
`).map(r=>r.trim()).filter(Boolean)||[],c=Array.isArray(t.highlights)?t.highlights.slice(0,8):[],h=t.ctaUrl||t.videoUrl||"#";return e.jsx("div",{className:"min-h-[calc(100vh-5rem)] bg-gradient-to-b from-purple-950 via-amber-950 to-stone-950 py-12 text-white",children:e.jsx("div",{className:"mx-auto flex w-full max-w-4xl justify-center px-6",children:e.jsxs("section",{className:"w-full max-w-2xl space-y-6 rounded-3xl border border-amber-800/20 bg-amber-950/20 p-8 shadow-2xl backdrop-blur",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-amber-700/30 bg-amber-950/30 pb-[56.25%]",children:[l==="iframe"&&t.embedUrl&&e.jsx("iframe",{src:t.embedUrl,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"CityQuest briefing",className:"absolute left-0 top-0 h-full w-full border-0"}),l==="video"&&t.videoUrl&&e.jsx("video",{src:t.videoUrl,poster:t.thumbnailUrl,controls:!0,playsInline:!0,className:"absolute left-0 top-0 h-full w-full bg-black"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-3 text-xs uppercase tracking-[0.35em] text-amber-100",children:"Mission Debrief"}),e.jsx("h1",{className:"m-0 text-3xl font-semibold text-white",children:t.title}),e.jsx("div",{className:"mt-4 flex gap-4 text-sm text-amber-200/80",children:e.jsx("span",{children:t.duration||"--:--"})})]}),e.jsx("div",{className:"summary",children:d.length===0?e.jsx("p",{className:"mb-3 text-base leading-relaxed text-amber-200/80",children:"No summary provided yet."}):d.map((r,o)=>e.jsx("p",{className:"mb-3 text-base leading-relaxed text-amber-200/80",children:r},o))}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-3 text-xs uppercase tracking-[0.35em] text-amber-100",children:"Highlights"}),e.jsx("div",{className:"grid gap-2.5",children:c.length===0?e.jsx("div",{className:"rounded-2xl border border-amber-700/30 bg-amber-900/30 px-4 py-3 text-sm text-amber-200/80",children:"No highlights available yet."}):c.map((r,o)=>e.jsxs("div",{className:"rounded-2xl border border-amber-700/30 bg-amber-900/30 px-4 py-3 text-sm text-amber-200/80",children:[o+1,". ",r]},o))})]}),e.jsx("div",{children:e.jsx("a",{href:h,target:"_blank",rel:"noreferrer noopener",className:"inline-flex items-center justify-center gap-2 rounded-2xl bg-gradient-to-r from-amber-500 to-yellow-600 px-6 py-4 text-lg font-bold text-amber-950 shadow-lg shadow-amber-900/50 transition hover:from-amber-400 hover:to-yellow-500 no-underline",children:t.callToAction||"Open briefing"})})]})]})})})}const w="tanstack-app-root";function j(){const t=document.getElementById(w);if(!t)throw new Error(`Container #${w} not found`);let a=t._reactRoot;return a||(a=N.createRoot(t),t._reactRoot=a),a}function T(){const t=f();j().render(e.jsx(g.StrictMode,{children:e.jsx(y,{...t,children:e.jsx(v,{children:e.jsx(I,{})})})}))}T();

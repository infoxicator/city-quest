import{r as a,j as e,g as f,R as h,P as v,A as j,c as w}from"./styles.js";import{i as N,C as m,a as y}from"./utils.js";const C=2*1024*1024;function _(){const[t,s]=a.useState(null),[R,c]=a.useState(null),[p,n]=a.useState(!1),[d,l]=a.useState(""),u=a.useRef(null),b=a.useId();a.useEffect(()=>{N()},[]);const i=a.useCallback(async r=>{if(!r)return;if(!r.type.startsWith("image/")){l("Please choose an image file.");return}if(r.size>C){l("Please choose an image smaller than 2 MB.");return}l(""),c(r);const o=new FileReader;o.onload=()=>{typeof o.result=="string"&&s(o.result)},o.readAsDataURL(r)},[]),g=a.useCallback(r=>{r.preventDefault(),n(!1);const o=r.dataTransfer.files?.[0];i(o)},[i]);return e.jsx("div",{className:"min-h-[calc(100vh-5rem)] bg-gradient-to-b from-purple-950 via-amber-950 to-stone-950 py-12 text-white",children:e.jsx("div",{className:"mx-auto flex w-full max-w-4xl justify-center px-6",children:e.jsxs("section",{className:"w-full max-w-2xl space-y-6 rounded-3xl border border-amber-800/20 bg-amber-950/20 p-8 shadow-2xl backdrop-blur",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-amber-700/30 bg-gradient-to-br from-amber-600/30 via-yellow-700/20 to-stone-800/90 p-8 shadow-inner",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[e.jsx("div",{className:"absolute -top-10 -right-6 h-40 w-40 rounded-full bg-amber-400/40 blur-3xl"}),e.jsx("div",{className:"absolute top-12 -left-10 h-32 w-32 rounded-full bg-yellow-500/30 blur-2xl animate-pulse"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,215,0,0.2),_transparent_55%)]"})]}),e.jsxs("div",{className:"relative z-10 space-y-4 text-center",children:[e.jsx("h1",{className:"text-4xl font-black uppercase tracking-[0.25em] text-white drop-shadow-[0_8px_30px_rgba(217,119,6,0.55)]",children:"Take Picture"}),e.jsx("p",{className:"text-sm text-amber-200/80",children:"Capture or upload an image for your adventure"})]})]}),e.jsx("div",{className:"space-y-3",children:t?e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-amber-600/40 bg-amber-950/30 p-2 shadow-2xl",children:[e.jsx("img",{src:t,alt:"Preview",className:"mx-auto w-full max-w-full rounded-xl object-contain shadow-lg"}),e.jsx("button",{type:"button",onClick:()=>{s(null),c(null),l("")},className:"absolute top-3 right-3 rounded-full bg-amber-900/80 p-2 text-amber-200 hover:bg-amber-800/90 transition",title:"Take a different picture",children:e.jsx(m,{className:"h-4 w-4"})})]}):e.jsxs("button",{type:"button",onDragOver:r=>{r.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onDrop:g,onClick:()=>u.current?.click(),className:y("flex min-h-[180px] w-full cursor-pointer flex-col items-center justify-center gap-3 rounded-3xl border-2 border-dashed border-amber-700/40 bg-amber-950/30 p-6 text-center transition",p&&"border-amber-400/80 bg-amber-300/20"),children:[e.jsx("div",{className:"rounded-full bg-amber-800/30 p-3 text-amber-100",children:e.jsx(m,{className:"h-6 w-6"})}),e.jsx("p",{className:"text-sm text-amber-100",children:"Drag & drop or tap to upload"}),e.jsx("p",{className:"text-xs text-amber-200/80",children:"Supports live camera capture on mobile"}),e.jsx("input",{ref:u,id:b,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:r=>{i(r.target.files?.[0]),r.target.value=""}})]})}),d&&e.jsx("p",{className:"rounded-2xl border border-red-700/60 bg-red-900/20 px-4 py-3 text-sm text-red-200",children:d})]})})})}const x="tanstack-app-root";function k(){const t=document.getElementById(x);if(!t)throw new Error(`Container #${x} not found`);let s=t._reactRoot;return s||(s=w.createRoot(t),t._reactRoot=s),s}function I(){const t=f();k().render(e.jsx(h.StrictMode,{children:e.jsx(v,{...t,children:e.jsx(j,{children:e.jsx(_,{})})})}))}I();
